

<ElevatorUP>:
    cols:2
    GridLayout:
        rows:5
        canvas.before:
            Color:
                rgba: root.colorborder
            Line:
                width: 1
                rectangle: self.x, self.y, self.width, self.height

        GridLayout:
            size_hint_y:0.4
            cols:4
            canvas.before:
                Color:
                    rgba: root.colorborder
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            canvas:
                Color:
                    rgba: 1,1,1,0
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                text:root.curFloor
                font_name:"fonts/Seven Segment.ttf"
                font_size:self.height*0.9
            SevenSegmentLayout:
                id:segment_left
            SevenSegmentLayout:
                id:segment_right
            SettingElevator:
                id:setting
                canvas.before:
                    Color:
                        rgba: root.colorborder
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                canvas:
                    Color:
                        rgba: 1,1,1,0
                    Rectangle:
                        pos: self.pos
                        size: self.size
                size_hint_x:0.5
                source:"image/setting_elevator.png"
                on_release:self.Select_Config()





        GridLayout:
            size_hint_y:1.2
            cols:2
            canvas.before:
                Color:
                    rgba: root.colorborder
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: root.colorborder
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                canvas:
                    Color:
                        rgba: root.colorback
                    Rectangle:
                        pos: self.pos
                        size: self.size
                orientation:'vertical'
                size_hint_x:0.5
                BoxLayout:
                    orientation:'horizontal'
                    AnchorLayout:
                        size_hint_x: 1.2
                        anchor_x: 'center'
                        anchor_y: 'center'
                        Image:
                            source:root.QualitySource
                            center:int(self.center_x),int(self.center_y)
                            size_hint_y:0.7

                    AnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'center'
                        Label:
                            font_name:'fonts/times.ttf'
                            font_size:self.width/2.5
                            text:"" if root.disableelevator else root.State
                            color:root.colorwhite if root.Connect  else root.colorerror
                            size_hint_y:1




                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'center'
                    Image:
                        id:AvailElev
                        source:root.SourceAvailElev
                        size_hint_y:1 if root.vip else 0.8
                        opacity:0 if root.disableelevator else 1



            ElevatorUPRight:
                id:right
                disableelevator:root.disableelevator
                size_hint_x:1
    GridLayout:
        rows:6
        canvas.before:
            Color:
                rgba: root.colorborder
            Line:
                width: 1
                rectangle: self.x, self.y, self.width, self.height

        size_hint_x:0.15
        Label:
            size_hint_y:0.1
        Image:
            source:'image/Dir_Down.png'

        Label:
            text:root.Command[0]
        Label:
            text:root.Command[1]
        Label:
            text:root.Command[2]
        Label:
            text:root.Command[3]

<ElevatorUPRight>:
    rows:3
    BoxLayout:
        orientation:'vertical'
        Label:
            canvas.before:
                Color:
                    rgba: root.colorborder
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            canvas:
                Color:
                    rgba: root.colorback
                Rectangle:
                    pos: self.pos
                    size: self.size
            BoxLayout:
                center:self.parent.center
                orientation:'horizontal'
                AnchorLayout:
                    size_hint_x:0.2
                    anchor_x: 'center'
                    anchor_y: 'center'
                    Image:
                        source:'image/index_elevator.png'



                AnchorLayout:
                    anchor_x: 'right'
                    anchor_y: 'center'
                    Label:
                        id:IndexElev
                        font_name:'fonts/times.ttf'
                        font_size:self.width/4
                        text: "" if root.disableelevator else root.indexName





        Label:
            canvas.before:
                Color:
                    rgba: root.colorborder
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            canvas:
                Color:
                    rgba: root.colorback
                Rectangle:
                    pos: self.pos
                    size: self.size
            BoxLayout:
                center:self.parent.center
                orientation:'horizontal'
                AnchorLayout:
                    size_hint_x:0.2
                    anchor_x: 'center'
                    anchor_y: 'center'
                    Image:
                        source:'image/human2.png'
                        size_hint_x:1
                AnchorLayout:
                    anchor_x: 'right'
                    anchor_y: 'center'
                    Label:
                        font_name:'fonts/times.ttf'
                        font_size:self.width/4
                        text: "" if root.monitoring else "{:.0f}".format(root.InCarPercent)+"%"
        Label:
            canvas.before:
                Color:
                    rgba: root.colorborder
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            canvas:
                Color:
                    rgba: root.colorback
                Rectangle:
                    pos: self.pos
                    size: self.size
            BoxLayout:
                center:self.parent.center
                orientation:'horizontal'
                AnchorLayout:
                    size_hint_x:0.2
                    anchor_x: 'center'
                    anchor_y: 'center'
                    Image:
                        source:'image/waiting2.png'
                        size_hint_x:1
                AnchorLayout:
                    anchor_x: 'right'
                    anchor_y: 'center'
                    Label:
                        font_name:'times.ttf'
                        font_size:self.width/4
                        text: "" if root.monitoring else "{:.0f}".format(root.NumberRequest)

<ElevatorCheckCall>:
    siz_hint_y:None
    height:self.height
    source:root.imgsource
    on_press:root.presscall()
    on_release:root.releasecall()

    size_hint_x:1
    canvas.before:
        Color:
            rgba: root.colorborder
        Line:
            width: 1
            points: self.x, self.y, self.x+ self.width, self.y
    canvas:
        Color:
            rgba: self.colorback
        Rectangle:

            pos: self.pos
            size: self.size


<ElevatorBoxs>:

    siz_hint_y:None
    height:self.height
    canvas.before:
        Color:
            rgba: root.colorborder
        Line:
            width: 1
            points: self.x, self.y, self.x+ self.width+self.add, self.y
    canvas:
        Color:
            rgba: self.colorbackforbid if self.disable_floor  else  self.colorback
        Rectangle:
            pos: self.pos
            size: self.size
    AnchorLayout:
        center:self.parent.center
        anchor_x: 'center'
        anchor_y: 'center'
        Image:
            source:root.source
            opacity:int(root.show)
            size_hint_x:root.sizehintx



<ElevatorAvailable>:
    siz_hint_y:None
    height:self.height
    canvas.before:
        Color:
            rgba: root.colorborder
        Line:
            width: 1
            points: self.x, self.y, self.x+ self.width, self.y
    canvas:
        Color:
            rgba: self.colorback if self.Av == 1 else self.colorbackforbid
        Rectangle:

            pos: self.pos
            size: self.size
    on_release:root.updateAv(self.active)
    disabled:1 if root.disableavailable else 0



<PopupWindowConfigSidex>:
    cols:3
    padding:30

    GridLayout:
        rows:4
        padding:30
        spacing:30
        canvas.before:
            Color:
                rgba: root.colorwhite if root.disable==0 else root.colordisable
            Line:
                width: 1.5
                rounded_rectangle: self.x, self.y, self.width, self.height,10
        GridLayout:
            size_hint_y:0.15
            padding:10
            spacing:10

            cols:9
            Label:
                size_hint_x:0.3
            TextInput:
                hint_text:"Elevator Index Name"
                id:ElevIndex

            TextInput:
                hint_text:"Elevator Capacity"
                id:ElevCapacity
            Button:
                text:"Config Setup"
                on_press:root.Select_Setup()
            ConfigPush:
                id:vip_push
                elevatorindex:root.elevatorindex
                label:"VIP"
            ConfigPush:
                id:out_push
                elevatorindex:root.elevatorindex
                label:"OUT"
            ConfigPush:
                source:'image/Reset.png'
                reset:True
                elevatorindex:root.elevatorindex

            Label:
                size_hint_x:0.3
        GridLayout:
            rows:2
            size_hint_y:0.35
            Label:
                size_hint_y:0.1
                text:"Location Elevator"
                font_size:self.height*1.5
            GridLayout:
                id:location_elevator
                cols:3
                Label:
                    id:ee
                LocationPanel:
                    id:location
                    padding:10
                    spacing:10
                    rows:2
                    elevatorindex:root.elevatorindex
                Label:
                    id:ff



        GridLayout:
            id:configs
            rows:4
            spacing:10
            Label:
                size_hint_y:0.04
                text:"Configs"
                font_size:self.height*1.5
            GridLayout:
                cols:3
                Label:
                    size_hint_x:0.5

                SevenSegmentPush:
                    id:configs
                    cols:2
                    elevatorindex:root.elevatorindex
                Label:
                    size_hint_x:0.5
            GridLayout:
                size_hint_y:0.13
                cols:4
                Label:
                    size_hint_x:0.2
                GridLayout:
                    cols:4
                    Label:
                        text:"Home:"
                    Spinner:
                        size:140, 44
                        pos_hint: {'center': (.5, -.05)}
                        text: root.homefloor
                        values: root.floors
                        on_text:root.onhome(self.text)

                Label:
                    size_hint_x:0.2
            GridLayout:

                size_hint_y:0.13
                cols:4
                Label:
                    size_hint_x:0.2






                Label:
                    size_hint_x:0.2



<ConfigPush>:
    canvas.before:
        Color:
            rgba: root.colorwhite if root.disable==0 else root.colordisable
        Line:
            width: 1.5
            rounded_rectangle: self.x, self.y, self.width, self.height,10
    source:"image/raw.png"
    on_press:self.Select_Button()
    Label:
        text:root.label
        font_size:self.height*0.2
        center:root.center
        color:root.colordisable if root.disable==1 else root.colorwhite

<LocationButton>:
    canvas.before:
        Color:
            rgba: root.colorwhite if root.disable==0 else root.colordisable
        Line:
            width: 1.5
            rounded_rectangle: self.x, self.y, self.width, self.height,5
    source:"image/raw.png"
    on_press:self.Select_Button()
    Label:
        text:root.label
        font_size:self.height*0.4
        center:root.center
        color:root.colordisable if root.disable==1 else root.colorwhite
<SevenSegmentButton>:

    on_press:self.Select_Button()
    canvas.before:
        Color:
            rgba: root.colorwhite if root.disable==0 else root.colordisable
        Line:
            width: 1.5
            rounded_rectangle: self.x, self.y, self.width, self.height,10
    source:"image/raw.png"
    Label:
        text:root.label
        font_size:self.height*0.25
        center:root.center
        color:root.colordisable if root.disable==1 else root.colorwhite